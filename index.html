<!DOCTYPE html>
<html>
<head>
    <title>Invoice Generator</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        #buyerDetails {
            display: none;
        }
        #newBuyerForm {
            display: none;
        }
        #invoicePreview {
            display: none;
        }

    </style>
</head>
<body>
    <h1>Invoice Generator</h1>

    <h2>Buyer Details</h2>
    <select id="buyerName">
        <option value="">Select Buyer</option>
    </select>
    <button id="addBuyerButton">Add New Buyer</button>

    <div id="newBuyerForm">
        <h3>Add New Buyer</h3>
        <input type="text" id="newBuyerName" placeholder="Name"><br>
        <input type="text" id="newBuyerAddress" placeholder="Address"><br>
        <input type="text" id="newBuyerCity" placeholder="City"><br>
        <input type="text" id="newBuyerState" placeholder="State"><br>
        <input type="text" id="newBuyerPIN" placeholder="PIN"><br>
        <input type="text" id="newBuyerGST" placeholder="GST"><br>
        <input type="text" id="newBuyerPAN" placeholder="PAN"><br>
        <button id="saveBuyerButton">Save Buyer</button>
    </div>

    <div id="buyerDetails">
        <p>Address: <span id="buyerAddress"></span></p>
        <p>City: <span id="buyerCity"></span></p>
        <p>State: <span id="buyerState"></span></p>
        <p>PIN: <span id="buyerPIN"></span></p>
        <p>GST: <span id="buyerGST"></span></p>
        <p>PAN: <span id="buyerPAN"></span></p>
        <p>Place of Supply: <span id="placeOfSupply"></span></p>
    </div>

    <h2>Item Details</h2>
    <table id="itemTable">
        <thead>
            <tr>
                <th>Lot No.</th>
                <th>Description</th>
                <th>HSN/SAC</th>
                <th>Unit</th>
                <th>Quantity</th>
                <th>Rate</th>
                <th>Amount</th>
                <th>CGST Rate</th>
                <th>SGST Rate</th>
                <th>IGST Rate</th>
            </tr>
        </thead>
        <tbody id="itemRows">
            </tbody>
    </table>
    <button id="addItemButton">Add Item</button>

    <h2>Totals</h2>
    <p>Total Quantity: <span id="totalQuantity">0</span></p>
    <p>Taxable Value: <span id="taxableValue">0</span></p>
    <p>CGST: <span id="cgstValue">0</span></p>
    <p>SGST: <span id="sgstValue">0</span></p>
    <p>IGST: <span id="igstValue">0</span></p>
    <p>Invoice Value: <span id="invoiceValue">0</span></p>
    <p>Amount in Words: <span id="amountInWords"></span></p>

    <button id="previewInvoiceButton">Preview Invoice</button>

    <div id="invoicePreview">
        <h2>Invoice Preview</h2>
        <h3>Buyer Details</h3>
        <p>Name: <span id="previewBuyerName"></span></p>
        <p>Address: <span id="previewBuyerAddress"></span></p>
        <p>City: <span id="previewBuyerCity"></span></p>
        <p>State: <span id="previewBuyerState"></span></p>
        <p>PIN: <span id="previewBuyerPIN"></span></p>
        <p>GST: <span id="previewBuyerGST"></span></p>
        <p>PAN: <span id="previewBuyerPAN"></span></p>
        <p>Place of Supply: <span id="previewPlaceOfSupply"></span></p>

        <h3>Item Details</h3>
        <table id="previewItemTable">
            <thead>
                <tr>
                    <th>Lot No.</th>
                    <th>Description</th>
                    <th>HSN/SAC</th>
                    <th>Unit</th>
                    <th>Quantity</th>
                    <th>Rate</th>
                    <th>Amount</th>
                    <th>CGST Rate</th>
                    <th>SGST Rate</th>
                    <th>IGST Rate</th>
                </tr>
            </thead>
            <tbody id="previewItemRows">
                </tbody>
        </table>

        <h3>Totals</h3>
        <p>Total Quantity: <span id="previewTotalQuantity"></span></p>
        <p>Taxable Value: <span id="previewTaxableValue"></span></p>
        <p>CGST: <span id="previewCgstValue"></span></p>
        <p>SGST: <span id="previewSgstValue"></span></p>
        <p>IGST: <span id="previewIgstValue"></span></p>
        <p>Invoice Value: <span id="previewInvoiceValue"></span></p>
        <p>Amount in Words: <span id="previewAmountInWords"></span></p>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="script.js"></script>
</body>
</html>
